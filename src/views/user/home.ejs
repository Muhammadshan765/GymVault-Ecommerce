
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />

  <div class="bg-gray-50">
    <%- include('../partials/nav')%>

    <!-- Hero Section -->
    <section class="relative mt-14 sm:mt-16">
      <!-- Mobile Hero (visible only on small screens) -->
      <div class="sm:hidden">
        <div class="relative h-[60vh] sm:h-[70vh] overflow-hidden">
          <!-- Slideshow container for mobile -->
          <div class="relative w-full h-full" id="mobileSlideshow">
            <div class="mobile-slide absolute inset-0 opacity-100 transition-opacity duration-1000 transform scale-100 hover:scale-105 transition-transform duration-7000">
              <img 
                src="/images/Banner.webp" 
                alt="Gym Equipment" 
                class="w-full h-full object-cover object-center"
                srcset="/images/Banner.webp 640w,
                        /images/Banner.webp 768w,
                        /images/Banner.webp 1024w"
                sizes="(max-width: 640px) 100vw,
                       (max-width: 768px) 100vw,
                       100vw"
                loading="eager"
              />
            </div>
            <div class="mobile-slide absolute inset-0 opacity-0 transition-opacity duration-1000 transform scale-100 hover:scale-105 transition-transform duration-7000">
              <img 
                src="/images/Website-Banner-_Anniversary-Loot-Deal_-_1242x400_V2.webp" 
                alt="Workout" 
                class="w-full h-full object-cover object-center"
                srcset="/images/Website-Banner-_Anniversary-Loot-Deal_-_1242x400_V2.webp 640w,
                        /images/Website-Banner-_Anniversary-Loot-Deal_-_1242x400_V2.webp 768w,
                        /images/Website-Banner-_Anniversary-Loot-Deal_-_1242x400_V2.webp 1024w"
                sizes="(max-width: 640px) 100vw,
                       (max-width: 768px) 100vw,
                       100vw"
                loading="lazy"
              />
            </div>
            <div class="mobile-slide absolute inset-0 opacity-0 transition-opacity duration-1000 transform scale-100 hover:scale-105 transition-transform duration-7000">
              <img 
                src="/images/mt-brand-athlete-banner.webp" 
                alt="Supplements" 
                class="w-full h-full object-cover object-center"
                srcset="/images/mt-brand-athlete-banner.webp 640w,
                        /images/mt-brand-athlete-banner.webp 768w,
                        /images/mt-brand-athlete-banner.webp 1024w"
                sizes="(max-width: 640px) 100vw,
                       (max-width: 768px) 100vw,
                       100vw"
                loading="lazy"
              />
            </div>
          </div>

          <!-- Enhanced gradient overlay for better text readability -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent">
            <!-- Mobile Content -->
            <div class="container mx-auto px-4 h-full flex flex-col justify-center z-10 relative">
              <div class="animate-fadeIn max-w-lg mx-auto text-center">
                <span class="text-gray-300 text-xs md:text-sm tracking-wider mb-2 md:mb-4 inline-block opacity-90">WELCOME TO GymVault</span>
                <h1 class="text-2xl md:text-3xl font-bold text-white mb-3 md:mb-4 leading-tight">
                  Discover Your Perfect <br class="md:hidden"> Fitness Gear
                </h1>
                <p class="text-gray-200 text-sm md:text-base mb-5 md:mb-6 opacity-90">
                  Explore our collection of premium gym equipment for every workout
                </p>
                <div class="flex gap-3 md:gap-4 mt-2 justify-center">
                  <a href="/shop" class="bg-white text-gray-900 px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg shadow-lg hover:bg-gray-100 transition-all duration-300 text-xs sm:text-sm font-medium flex-1 max-w-[150px] text-center transform hover:scale-105">
                    Shop Now
                  </a>
                  <a href="#featured" class="border border-white text-white px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg hover:bg-white/10 transition-all duration-300 text-xs sm:text-sm font-medium flex-1 max-w-[150px] text-center transform hover:scale-105">
                    View Featured
                  </a>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Mobile slide indicators with improved positioning -->
          <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-2 z-20">
            <button class="mobile-slide-indicator w-8 h-1.5 bg-white/30 rounded-full hover:bg-white/80 transition-all duration-300 focus:outline-none active-indicator"></button>
            <button class="mobile-slide-indicator w-8 h-1.5 bg-white/30 rounded-full hover:bg-white/80 transition-all duration-300 focus:outline-none"></button>
            <button class="mobile-slide-indicator w-8 h-1.5 bg-white/30 rounded-full hover:bg-white/80 transition-all duration-300 focus:outline-none"></button>
          </div>
          
          <!-- Enhanced Mobile Decorative Elements -->
          <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-gray-900/80 to-transparent z-0"></div>
          
          <!-- Animated dot pattern for visual interest -->
          <div class="absolute top-4 right-4 w-24 h-24 opacity-20 animate-pulse">
            <div class="grid grid-cols-3 gap-2">
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <div class="w-2 h-2 bg-white rounded-full"></div>
            </div>
          </div>
          
          <!-- Mobile fitness icon overlay -->
          <div class="absolute bottom-8 right-4 text-white/10 text-6xl">
            <i class="fas fa-dumbbell"></i>
          </div>
        </div>
      </div>
      
      <!-- Desktop Hero (hidden on small screens) -->
      <div class="hidden sm:block h-[70vh] md:h-[80vh] lg:h-[85vh] relative overflow-hidden">
        <!-- Slideshow container with enhanced transitions -->
        <div class="relative w-full h-full" id="slideshow">
          <div class="slide absolute inset-0 opacity-100 transition-opacity duration-1000 transform scale-100 hover:scale-105 transition-transform duration-7000">
            <img src="/images/Banner.webp" alt="Gym Equipment" class="w-full h-full object-cover object-center" />
          </div>
          <div class="slide absolute inset-0 opacity-0 transition-opacity duration-1000 transform scale-100 hover:scale-105 transition-transform duration-7000">
            <img src="/images/Website-Banner-_Anniversary-Loot-Deal_-_1242x400_V2.webp" alt="Workout" class="w-full h-full object-cover object-center" />
          </div>
          <div class="slide absolute inset-0 opacity-0 transition-opacity duration-1000 transform scale-100 hover:scale-105 transition-transform duration-7000">
            <img src="/images/mt-brand-athlete-banner.webp" alt="Supplements" class="w-full h-full object-cover object-center" />
          </div>
        </div>

        <!-- Enhanced gradient overlay with better responsiveness -->
        <div class="absolute inset-0 bg-gradient-to-l from-black/80 via-black/50 to-transparent sm:from-black/70 sm:via-black/40 sm:to-transparent/10">
          <div class="container mx-auto px-4 h-full flex items-center sm:items-center md:items-center">
            <div class="max-w-xl sm:max-w-2xl md:max-w-3xl mx-auto sm:mx-0 md:ml-8 lg:ml-16 transform transition-all duration-700 translate-y-0 animate-slideUp">
              <span class="text-gray-300 text-xs sm:text-sm tracking-wider mb-2 sm:mb-4 block opacity-90">WELCOME TO GymVault</span>
              <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-3 sm:mb-6 leading-tight">
                "No Pain, No Gain â€“ <br class="hidden md:block">Power Up!"
              </h1>
              <p class="text-gray-200 text-base sm:text-lg mb-6 sm:mb-8 max-w-lg opacity-90">
                "Explore our collection of premium gym gear for every workout." ðŸ’ªðŸ”¥
              </p>
              <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
                <a href="/shop" class="bg-white text-gray-900 px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg shadow-xl hover:bg-gray-100 transition-all duration-300 text-sm sm:text-base font-medium text-center sm:text-left transform hover:scale-105">
                  Shop Now
                </a>
                <a href="#featured" class="border border-white text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg hover:bg-white/10 transition-all duration-300 text-sm sm:text-base font-medium text-center sm:text-left transform hover:scale-105 mt-2 sm:mt-0">
                  View Featured
                </a>
              </div>
              
              <!-- Slide indicators -->
              <div class="hidden md:flex gap-2 mt-8">
                <button class="slide-indicator w-12 h-1.5 bg-white/30 rounded-full hover:bg-white/80 transition-all duration-300 focus:outline-none active-indicator"></button>
                <button class="slide-indicator w-12 h-1.5 bg-white/30 rounded-full hover:bg-white/80 transition-all duration-300 focus:outline-none"></button>
                <button class="slide-indicator w-12 h-1.5 bg-white/30 rounded-full hover:bg-white/80 transition-all duration-300 focus:outline-none"></button>
              </div>
            </div>
          </div>
        </div>

        <script>
          let currentSlide = 0;
          const slides = document.querySelectorAll('.slide');
          const indicators = document.querySelectorAll('.slide-indicator');
          
          function showSlide(n) {
            // Hide all slides
            slides.forEach(slide => slide.style.opacity = '0');
            // Show the current slide
            slides[n].style.opacity = '1';
            
            // Update indicators if they exist
            if (indicators.length > 0) {
              indicators.forEach(ind => ind.classList.remove('active-indicator', 'bg-white/80'));
              indicators.forEach(ind => ind.classList.add('bg-white/30'));
              indicators[n].classList.add('active-indicator', 'bg-white/80');
              indicators[n].classList.remove('bg-white/30');
            }
          }
          
          function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
          }
          
          // Add click handlers to indicators
          indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
              currentSlide = index;
              showSlide(currentSlide);
            });
          });
          
          // Auto advance slides every 5 seconds
          setInterval(nextSlide, 5000);
          
          // Add a class for custom animation
          document.head.insertAdjacentHTML('beforeend', `
            <style>
              @keyframes slideUp {
                from { opacity: 0; transform: translateY(30px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
              }
              .animate-slideUp {
                animation: slideUp 1s ease-out forwards;
              }
              .animate-fadeIn {
                animation: fadeIn 1.2s ease-out forwards;
              }
            </style>
          `);
        </script>
      </div>
    </section>
   <!-- Categories Section -->
<section class="py-20 bg-gradient-to-b from-white to-gray-50">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <span class="text-blue-600 font-semibold tracking-wider uppercase text-sm">Explore Our Collection</span>
      <h2 class="text-4xl font-bold text-gray-900 mt-3 mb-4">Shop by Category</h2>
      <p class="text-gray-600 text-lg max-w-2xl mx-auto">Discover premium fitness supplements designed to enhance your workout performance and results</p>
    </div>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 max-w-7xl mx-auto">
      <!-- Proteins -->
      <a href="/shop?category=Proteins" class="group relative rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
        <div class="aspect-[5/6]">
          <img 
            src="/images/Artboard_2_d935a1f7-41fa-462f-b939-79c8ef84da7d.avif" 
            alt="Proteins" 
            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
          />
        </div>
        <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent flex flex-col justify-end p-8">
          <div class="transform group-hover:translate-y-[-8px] transition-transform duration-500">
            <span class="text-blue-400 text-sm font-semibold tracking-wider uppercase block mb-2">Essential Nutrition</span>
            <h3 class="text-white text-3xl font-bold mb-3">Proteins</h3>
            <p class="text-gray-300 mb-4 line-clamp-2">Premium protein supplements for muscle growth and recovery</p>
            <span class="inline-flex items-center text-white text-sm font-medium bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm">
              Browse Collection
              <svg class="w-4 h-4 ml-2 group-hover:translate-x-2 transition-transform duration-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
              </svg>
            </span>
          </div>
        </div>
      </a>

      <!-- BCAA -->
      <a href="/shop?category=cuffine" class="group relative rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
        <div class="aspect-[5/6]">
          <img 
            src="/images/BCAA.webp" 
            alt="BCAA" 
            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
          />
        </div>
        <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent flex flex-col justify-end p-8">
          <div class="transform group-hover:translate-y-[-8px] transition-transform duration-500">
            <span class="text-blue-400 text-sm font-semibold tracking-wider uppercase block mb-2">Performance Boost</span>
            <h3 class="text-white text-3xl font-bold mb-3">BCAA</h3>
            <p class="text-gray-300 mb-4 line-clamp-2">Essential amino acids for enhanced endurance and recovery</p>
            <span class="inline-flex items-center text-white text-sm font-medium bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm">
              Browse Collection
              <svg class="w-4 h-4 ml-2 group-hover:translate-x-2 transition-transform duration-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
              </svg>
            </span>
          </div>
        </div>
      </a>

      <!-- Creatine -->
      <a href="/shop?category=Creatine" class="group relative rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
        <div class="aspect-[5/6]">
          <img 
            src="/images/pre-workout-.webp" 
            alt="Creatine" 
            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
          />
        </div>
        <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent flex flex-col justify-end p-8">
          <div class="transform group-hover:translate-y-[-8px] transition-transform duration-500">
            <span class="text-blue-400 text-sm font-semibold tracking-wider uppercase block mb-2">Power & Strength</span>
            <h3 class="text-white text-3xl font-bold mb-3">Creatine</h3>
            <p class="text-gray-300 mb-4 line-clamp-2">Advanced formulas for explosive power and muscle gains</p>
            <span class="inline-flex items-center text-white text-sm font-medium bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm">
              Browse Collection
              <svg class="w-4 h-4 ml-2 group-hover:translate-x-2 transition-transform duration-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
              </svg>
            </span>
          </div>
        </div>
      </a>
    </div>

  </div>
</section>

    <!-- Featured Products -->
    <section id="featured" class="py-12 sm:py-16 md:py-20 bg-gradient-to-b from-gray-50 to-white">
      <div class="container mx-auto px-4">
        <!-- Section Header -->
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-end mb-8 sm:mb-12 md:mb-16">
          <div class="mb-4 sm:mb-0">
            <div class="flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3">
              <span class="w-8 sm:w-12 h-[3px] bg-blue-600 rounded-full"></span>
              <span class="text-blue-600 text-xs sm:text-sm font-semibold tracking-wider uppercase">Featured Collection</span>
            </div>
            <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 leading-tight">Latest Arrivals</h2>
          </div>
          <a href="/shop" class="group inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 bg-gray-900 text-white text-sm sm:text-base rounded-full hover:bg-gray-800 transition-all duration-300 transform hover:scale-105">
            View All Products
            <svg class="w-4 h-4 sm:w-5 sm:h-5 ml-2 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
            </svg>
          </a>
        </div>

        <!-- Updated Products Grid with Better Responsiveness -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 md:gap-8">
          <% products.forEach(product => { %>
          <a href="/product/<%= product._id %>" class="group">
            <div class="bg-white rounded-xl sm:rounded-2xl md:rounded-3xl overflow-hidden shadow-md hover:shadow-2xl transform transition-all duration-500 hover:-translate-y-2">
              <!-- Product Image -->
              <div class="relative aspect-square overflow-hidden">
                <img
                  src="<%= product.imageUrl[0] %>"
                  alt="<%= product.productName %>"
                  class="w-full h-full object-cover transform transition-all duration-700 group-hover:scale-110"
                  loading="lazy"
                />
                <!-- Updated Discount Badge -->
                <% if (product.offerApplied) { %>
                  <div class="absolute top-2 sm:top-4 right-2 sm:right-4 bg-red-500 text-white px-2 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-semibold shadow-lg">
                    -<%= product.discountPercentage %>%
                  </div>
                <% } %>
                <!-- Wishlist Button -->
                <button type="button" onclick="event.preventDefault(); event.stopPropagation(); toggleWishlist(this, '<%= product._id %>')" 
                        class="absolute top-2 sm:top-4 left-2 sm:left-4 p-2 sm:p-3 bg-white/80 hover:bg-white rounded-full text-base sm:text-lg shadow-lg transform transition-all duration-300 hover:scale-110 focus:outline-none z-10">
                  <i class="fas fa-heart <%= product.isInWishlist ? 'text-red-500' : 'text-gray-400' %>"></i>
                </button>
                <!-- Quick View Button -->
                <div class="absolute inset-0 bg-black/40 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center">
                  <span class="bg-white/90 text-gray-900 px-4 sm:px-6 py-2 sm:py-3 rounded-full text-xs sm:text-sm font-semibold transform -translate-y-2 group-hover:translate-y-0 transition-transform duration-300">
                    Quick View
                  </span>
                </div>
              </div>

              <!-- Product Info -->
              <div class="p-4 sm:p-6">
                <!-- Brand & Rating -->
                <div class="flex justify-between items-center mb-2 sm:mb-3">
                  <div class="px-2 sm:px-3 py-1 bg-gray-100 rounded-full">
                    <span class="text-xs sm:text-sm text-gray-700 font-medium"><%= product.brand %></span>
                  </div>
                  <div class="flex items-center gap-1 sm:gap-1.5 bg-yellow-50 px-2 sm:px-3 py-1 rounded-full">
                    <i class="fas fa-star text-yellow-400 text-xs sm:text-sm"></i>
                    <span class="text-xs sm:text-sm font-medium text-gray-700"><%= product.rating %></span>
                  </div>
                </div>
                
                <!-- Product Name -->
                <h3 class="text-base sm:text-lg md:text-xl text-gray-900 font-bold mb-2 sm:mb-3 line-clamp-2 group-hover:text-blue-600 transition-colors">
                  <%= product.productName %>
                </h3>
                
                <!-- Updated Price Section -->
                <div class="flex items-baseline gap-2 sm:gap-3">
                  <% if (product.offerApplied) { %>
                    <span class="text-xl sm:text-2xl font-bold text-gray-900">â‚¹<%= product.offerPrice.toLocaleString() %></span>
                    <span class="text-sm sm:text-base text-gray-500 line-through">â‚¹<%= product.price.toLocaleString() %></span>
                    <span class="text-sm sm:text-base text-red-500 font-semibold">
                      Save <%= product.discountPercentage %>%
                    </span>
                  <% } else { %>
                    <span class="text-xl sm:text-2xl font-bold text-gray-900">â‚¹<%= product.price.toLocaleString() %></span>
                  <% } %>
                </div>

                <!-- Action Button -->
                <button class="w-full mt-4 sm:mt-6 bg-gray-900 text-white py-2 sm:py-3 rounded-lg sm:rounded-xl text-sm sm:text-base font-medium transform transition-all duration-300 hover:bg-blue-600 hover:scale-[1.02] active:scale-[0.98]">
                  View Details
                </button>
              </div>
            </div>
          </a>
          <% }); %>
        </div>
      </div>
    </section>

    <%- include('../partials/footer')%>
</div>

<script>
  // Make the toggleWishlist function globally available
  window.toggleWishlist = async function(button, productId) {
    try {
      // Check if user is logged in
      const isLoggedIn = <%- JSON.stringify(!!isLoggedIn) %>;
      
      if (!isLoggedIn) {
        window.location.href = '/login?message=Please+login+to+add+items+to+wishlist&alertType=info';
        return;
      }
      
      const response = await fetch(`/wishlist/toggle/${productId}`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        }
      });
      
      const data = await response.json();
      
      if (data.success) {
        const heartIcon = button.querySelector('i.fa-heart');
        
        if (data.added) {
          heartIcon.classList.remove('text-gray-400');
          heartIcon.classList.add('text-red-500');
        } else {
          heartIcon.classList.remove('text-red-500');
          heartIcon.classList.add('text-gray-400');
        }
      }
    } catch (error) {
      console.error('Error toggling wishlist:', error);
    }
  }

  // Mobile slideshow functionality with touch support
  let currentMobileSlide = 0;
  const mobileSlides = document.querySelectorAll('.mobile-slide');
  const mobileIndicators = document.querySelectorAll('.mobile-slide-indicator');
  let touchStartX = 0;
  let touchEndX = 0;
  
  function showMobileSlide(n) {
    mobileSlides.forEach(slide => {
      slide.style.opacity = '0';
      slide.style.zIndex = '0';
    });
    mobileSlides[n].style.opacity = '1';
    mobileSlides[n].style.zIndex = '1';
    
    mobileIndicators.forEach(ind => {
      ind.classList.remove('active-indicator', 'bg-white/80');
      ind.classList.add('bg-white/30');
    });
    mobileIndicators[n].classList.add('active-indicator', 'bg-white/80');
    mobileIndicators[n].classList.remove('bg-white/30');
  }
  
  function nextMobileSlide() {
    currentMobileSlide = (currentMobileSlide + 1) % mobileSlides.length;
    showMobileSlide(currentMobileSlide);
  }

  function prevMobileSlide() {
    currentMobileSlide = (currentMobileSlide - 1 + mobileSlides.length) % mobileSlides.length;
    showMobileSlide(currentMobileSlide);
  }
  
  // Touch events for swipe functionality
  document.getElementById('mobileSlideshow').addEventListener('touchstart', e => {
    touchStartX = e.changedTouches[0].screenX;
  });

  document.getElementById('mobileSlideshow').addEventListener('touchend', e => {
    touchEndX = e.changedTouches[0].screenX;
    handleSwipe();
  });

  function handleSwipe() {
    const swipeThreshold = 50;
    const swipeDistance = touchEndX - touchStartX;
    
    if (Math.abs(swipeDistance) > swipeThreshold) {
      if (swipeDistance > 0) {
        prevMobileSlide();
      } else {
        nextMobileSlide();
      }
    }
  }
  
  // Indicator click handlers
  mobileIndicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => {
      currentMobileSlide = index;
      showMobileSlide(currentMobileSlide);
    });
  });
  
  // Auto advance slides
  const slideInterval = setInterval(nextMobileSlide, 5000);
  
  // Pause auto-advance on user interaction
  document.getElementById('mobileSlideshow').addEventListener('touchstart', () => {
    clearInterval(slideInterval);
  });
</script>
